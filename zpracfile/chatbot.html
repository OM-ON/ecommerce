<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
    <style>
body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        /* Chatbot Icon */
        .chat-icon {
    width: 60px;
    height: 60px;
    position: fixed;
    bottom: 20px;
    right: 20px;
    cursor: pointer;
    transition: transform 0.3s ease-in-out;
    background: none; /* Remove background */
    border: none; /* Remove border */
    box-shadow: none; /* Remove shadow */
}

.chat-icon img {
    width: 60px; /* Make sure the image takes full size */
    height: auto;
}

        /* Chat Container */
        .chat-container {
            width: 350px;
            position: fixed;
            bottom: 80px;
            right: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #ffffff;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            display: none; /* Initially hidden */
        }

        .chat-header {
            background-color: #007bff;
            color: white;
            padding: 10px;
            text-align: center;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h2 {
            margin: 0;
            flex-grow: 1;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
        }

        .chat-box {
            max-height: 400px;
            overflow-y: auto;
            padding: 15px;
            height: 300px;
            background-color: #f9f9f9;
        }

        .chat-message {
            margin: 10px 0;
            padding: 10px 15px;
            border-radius: 20px;
            line-height: 1.5;
            color: #333;
        }

        .bot-message {
            text-align: left;
        }

        .user-message {
            text-align: right;
        }

        .input-container {
            display: flex;
            padding: 10px;
        }

        input[type="text"] {
            flex: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 20px;
            margin-right: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        button {
            padding: 10px;
            border: none;
            background-color: #007bff;
            color: white;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #0056b3;
        }
        .chat-text {
            font-size: 14px;
            font-weight: bold;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-block;
            background: linear-gradient(45deg, #ff7eb3, #ff758c, #ff5e62);
            box-shadow: 0px 4px 10px rgba(255, 94, 98, 0.4);
            position: absolute;
            bottom: 70px;
            right: 0px;
            white-space: nowrap;
            transition: opacity 0.3s ease-in-out;
        }

   </style>
</head>
<body>
   
    <!-- Chatbot Icon -->
  
    <div class="chat-icon" id="chat-icon">
        <div class="chat-text" id="chatText">May I help you?</div>
        <img src="img/chatbot.png" alt="Chat">
    </div>

    <!-- Chatbot Container -->
    <div class="chat-container" id="chat-container">
        <div class="chat-header">
            <h2>Magic AI</h2>
            <button class="close-btn" id="close-btn">&times;</button>
        </div>
        <div class="chat-box" id="chat-box">
            <div class="chat-message bot-message">Hello! Welcome to MAGIC Accessories! How can I assist you today?</div>
        </div>
        <div class="input-container">
            <input type="text" id="user-input" placeholder="Type your message...">
            <button id="send-button">Send</button>
        </div>
    </div>

    <script>
        
         const chatIcon = document.getElementById("chat-icon");
        const chatContainer = document.getElementById("chat-container");
        const closeButton = document.getElementById("close-btn");

        // Show chatbox when icon is clicked
        chatIcon.addEventListener("click", () => {
            chatContainer.style.display = "block";
        });

        // Close chatbox when close button is clicked
        closeButton.addEventListener("click", () => {
            chatContainer.style.display = "none";
        });
document.addEventListener("DOMContentLoaded", () => {
    document.getElementById('send-button').addEventListener('click', processInput);
    document.getElementById('user-input').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') processInput();
    });
});
// Advanced keyword analysis function with partial matching
function analyzeQuery(userInput) {
    let bestMatch = { category: null, score: 0 };
    const inputWords = userInput.toLowerCase().split(/\s+/); // Split input into words

    for (const [category, data] of Object.entries(knowledgeBase)) {
        let score = 0;

        for (const keyword of data.keywords) {
            const keywordPrefix = keyword.slice(0, 3).toLowerCase(); // Get first 3 letters
            for (const word of inputWords) {
                if (word.startsWith(keywordPrefix)) {
                    score++; // Increase score for partial matches
                }
            }
        }

        if (score > bestMatch.score) {
            bestMatch = { category, score };
        }
    }

    if (bestMatch.score > 0) {
        return knowledgeBase[bestMatch.category].response;
    }

    return `ü§ñ I'm here to help! Ask me about jewelry, handbags, perfumes, or sunglasses. üòä`;
}


const knowledgeBase = {
    greetings: {
        keywords: ['hello', 'hi', 'hey', 'welcome', 'greetings'],
        response: "Hello! üòä I'm Magic AI. Ask me about jewelry, handbags, perfumes, or sunglasses!"
    },
    jewelry: {
        keywords: ['jewelry', 'jewellery ','bracelet', 'necklace', 'ring', 'gold', 'silver', 'earrings', 'pendant'],
        products: {
            boys: {
            neckchain: "üìø **Neck Chain**: ‚Çπ3,299",
            chain_bracelet: "üíé **Chain Bracelet**: ‚Çπ2,799",
            silver_ring: "üíç **Silver Ring**: ‚Çπ1,999",
            diamond_bracelet: "‚ú® **Diamond Bracelet**: ‚Çπ3,999"
        },
        girls: {
            necklace: "üìø **Necklace**: ‚Çπ2,999 (Original: ‚Çπ3,399)",
            ring: "üíç **Ring**: ‚Çπ2,999 (Original: ‚Çπ3,399)",
            earrings: "‚ú® **Earrings**: ‚Çπ2,999 (Original: ‚Çπ3,399)",
            bracelet: "üíé **Bracelet**: ‚Çπ2,999 (Original: ‚Çπ3,399)"
        }
    },
        response: `
        <strong>‚ú® Our jewelry collection includes:</strong>
          <strong>‚ú® Our Jewelry Collection:</strong>
    <p>Are you looking for <strong>Boys' or Girls' accessories?</strong></p>
    <button onclick="showJewelryOptions('boys')">üë¶ Boys' Accessories</button>
    <button onclick="showJewelryOptions('girls')">üëß Girls' Accessories</button>
    <br>
        <em>Want more details? Click below:</em>
        <br>
      <a href="file:///C:/Magic%20Project/nav.html" target="_blank"><strong>üîó View All Jewelry</strong></a>`
    },
    wallets: {
        keywords: ['wallet', 'menpurse', 'cardholder'],
        response: `
        <strong>We also have a selection of wallets:</strong>
        <ul>
            <li><strong>Vertical Bifold Wallet</strong>: ‚Çπ2,099 - Made from premium leather with multiple card slots</li>
        </ul>
        <em>What type of wallet are you looking for?</em>`
    },

    handbags: {
        keywords: ['handbag', 'purse', 'bag', 'leather', 'travel', 'tote', 'clutch'],
        products: {
            "brown leather bag": "üëú **Brown Leather Bag**: ‚Çπ3,999 - Classic vintage",
            "black fabric bag": "üñ§ **Black Fabric Bag**: ‚Çπ2,499 - Travel-friendly",
            "greycraft bag": "üîπ **GreyCraft Bag**: ‚Çπ2,999 - Multiple compartments",
            "stylish clutch": "‚ú® **Stylish Clutch**: ‚Çπ1,499 - Perfect for evenings out"
        },
        response: `
        <strong>üëú Handbag options:</strong>
        <ul>
            <li><strong>Brown Leather Bag</strong>: ‚Çπ3,999 - Classic vintage</li>
            <li><strong>Black Fabric Bag</strong>: ‚Çπ2,499 - Travel-friendly</li>
            <li><strong>GreyCraft Bag</strong>: ‚Çπ2,999 - Multiple compartments</li>
            <li><strong>Stylish Clutch</strong>: ‚Çπ1,499 - Perfect for evenings out</li>
        </ul>
        <em>Want more details? Click below:</em>
        <br>
        <a href="file:///C:/Magic%20Project/handbag.html" target="_blank"><strong>üîó View All Handbags</strong></a>`
    },

    perfumes: {
        keywords: ['perfume', 'fragrance', 'scent', 'body spray', 'cologne', 'eau de toilette'],
        products: {
            "envy body spray": "üåø **Envy Body Spray**: ‚Çπ2,999 - Fresh daily wear",
            "wild stone edt": "üî• **Wild Stone EDT**: ‚Çπ3,499 - Adventurous scent",
            "fogg xtreme": "üå¨ **Fogg Xtreme**: ‚Çπ2,799 - Long-lasting",
            "denver": "üí® **Denver**: ‚Çπ2,499 - Light and refreshing"
        },
        response: `
        <strong>üå∏ Popular fragrances:</strong>
        <ul>
            <li><strong>Envy Body Spray</strong>: ‚Çπ2,999 - Fresh daily wear</li>
            <li><strong>Wild Stone EDT</strong>: ‚Çπ3,499 - Adventurous scent</li>
            <li><strong>Fogg Xtreme</strong>: ‚Çπ2,799 - Long-lasting</li>
            <li><strong>Denver</strong>: ‚Çπ2,499 - Light and refreshing</li>
        </ul>
        <em>Want more details? Click below:</em>
        <br>
               <a href="file:///C:/Magic%20Project/perfume.html" target="_blank"><strong>üîó View All Perfumes</strong></a>`

    },
    sunglasses: {
        keywords: ['sunglasses', 'shades', 'eyewear', 'glasses','sunglass'],
        products: {
            "gucci sunglasses": "üï∂ **Gucci Sunglasses**: ‚Çπ2,999 - Elegant design with UV protection",
            "ray-ban shades": "üòé **Ray-Ban Shades**: ‚Çπ3,499 - Classic and timeless",
            "fashion sunglasses": "‚ú® **Fashion Sunglasses**: ‚Çπ2,499 - Trendy and affordable"
        },
        response: `
        <strong>üòé Check out our stylish sunglasses:</strong>
        <ul>
            <li><strong>Gucci Sunglasses</strong>: ‚Çπ2,999 - Elegant design with UV protection</li>
            <li><strong>Ray-Ban Shades</strong>: ‚Çπ3,499 - Classic and timeless</li>
            <li><strong>Fashion Sunglasses</strong>: ‚Çπ2,499 - Trendy and affordable options</li>
        </ul>
        <em>Want more details? Click below:</em>
        <br>
           <a href="file:///C:/Magic%20Project/sunglasses.html" target="_blank"><strong>üîó View All Sunglasses</strong></a>`
   
    },
    info: {
        keywords: [ 'about', 'who are you', 'company','about us'],
        response: `
        <strong>‚ú® About Magic Accessories:</strong>
        <p>We offer high-quality fashion accessories with a touch of magic! From elegant jewelry to stylish handbags, we have it all.</p>
        <em>Want more details? Click below:</em>
        <br>
        <a href="file:///C:/Magic%20Project/theories/about.html" target="_blank"><strong>üîó About us </strong></a>`
    },
    support: {
        keywords: ['help', 'support', 'customer', 'contact','email','email id'],
        response: `
        <strong>üìû Customer Support:</strong>
        <ul>
            <li>Email: om64312@gmail.com</li>
            <li>Hours: 9 AM - 6 PM IST</li>
        </ul>
        <em>Want more details? Click below:</em>
        <br>
        <a href="file:///C:/Magic%20Project/theories/hecu.html" target="_blank"><strong>üîó Contact Support</strong></a>`
    },
    terms: {
        keywords: ['terms', 'policy', 'return', 'refund', 'exchange'],
        response: `
        <strong>üìú Terms & Policies:</strong>
        <ul>
            <li>30-day return policy</li>
            <li>Refunds processed within 7 days</li>
            <li>Exchanges available for defective products</li>
        </ul>
        <em>Want more details? Click below:</em>
        <br>
        <a href="file:///C:/Magic%20Project/theories/terms%20of%20service.html" target="_blank"><strong>üîó View Terms & Conditions</strong></a>`
    },
    social: {
        keywords: ['social', 'follow', 'twitter', 'linkedin', 'x', 'connect','platform'],
        response: `
        <strong>üì¢ Stay Connected!</strong>
        <ul>
            <li>Follow us on <a href="https://x.com/Soni13062004?t=M0_6NmR6ZCFP9s_RLxrP6A&s=09" target="_blank"><strong>Twitter (X)</strong></a></li>
            <li>Connect with us on <a href="https://www.linkedin.com/in/om-soni-6425262a9?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_apps" target="_blank"><strong>LinkedIn</strong></a></li>
        </ul>
        <em>Follow us for updates, deals, and new arrivals! üöÄ</em>`
    }
    

};

function processInput() {
    const inputField = document.getElementById('user-input');
    const userMessage = inputField.value.trim().toLowerCase();

    if (!userMessage) return;

    displayMessage(userMessage, 'user-message');
    inputField.value = '';

    const loading = displayMessage('...', 'bot-message');

    setTimeout(() => {
        loading.remove();
        const response = analyzeQuery(userMessage);
        displayMessage(response, 'bot-message');
    }, 800);
}
function showJewelryOptions(category) {
    let response = '';

    if (category === 'boys') {
        response = `
        <strong>üë¶ Boys' Jewelry Collection:</strong>
        <ul>
            <li>üìø Neck Chain - ‚Çπ3,299</li>
            <li>üíé Chain Bracelet - ‚Çπ2,799</li>
            <li>üíç Silver Ring - ‚Çπ1,999</li>
            <li>‚ú® Diamond Bracelet - ‚Çπ3,999</li>
        </ul>
        <em>Want more details? Click below:</em>
        <br>
        <a href="file:///C:/Magic%20Project/nav.html" target="_blank"><strong>üîó View All Boys' Jewelry</strong></a>`;
    } else {
        response = `
        <strong>üëß Girls' Jewelry Collection:</strong>
        <ul>
            <li>üìø Necklace - ‚Çπ2,999 (Original: ‚Çπ3,399)</li>
            <li>üíç Ring - ‚Çπ2,999 (Original: ‚Çπ3,399)</li>
            <li>‚ú® Earrings - ‚Çπ2,999 (Original: ‚Çπ3,399)</li>
            <li>üíé Bracelet - ‚Çπ2,999 (Original: ‚Çπ3,399)</li>
        </ul>
        <em>Want more details? Click below:</em>
        <br>
        <a href="file:///C:/Magic%20Project/nav.html" target="_blank"><strong>üîó View All Girls' Jewelry</strong></a>`;
    }

    displayMessage(response, 'bot-message');
}

function analyzeQuery(userInput) {
    let bestMatch = null;
    let bestMatchType = null; // "product" or "category"

    for (const [category, data] of Object.entries(knowledgeBase)) {
        for (const [product, response] of Object.entries(data.products || {})) {
            if (userInput.includes(product)) {
                return response; // Exact product match takes priority
            }
        }

        for (const keyword of data.keywords) {
            if (userInput.includes(keyword)) {
                if (bestMatch === null || bestMatchType !== "product") { // Prefer product matches
                    bestMatch = data.response;
                    bestMatchType = "category";
                }
            }
        }
    }

    return bestMatch || `ü§ñ I'm here to help! Ask me about jewelry, handbags, perfumes, or sunglasses. üòä`;
}


function displayMessage(content, type) {
    const chatBox = document.getElementById('chat-box');
    const messageDiv = document.createElement('div');
    messageDiv.className = `chat-message ${type}`;
    messageDiv.innerHTML = content;
    chatBox.appendChild(messageDiv);
    chatBox.scrollTop = chatBox.scrollHeight;
    return messageDiv;
}

    </script>
</body>
</html>
